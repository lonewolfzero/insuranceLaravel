
 elseif ($jsonectlistup == ' ') 
                        {

                            $slipdataup = SlipTable::create([
                                'number' => $slipdatalist->number,
                                'username' => $slipdatalist->username,
                                'insured_id' => $slipdatalist->insured_id,
                                'slip_type' => 'mc',
                                'prod_year' => $slipdatalist->prod_year,
                                'date_transfer' => $slipdatalist->slipdatetransfer,
                                'status' => 'endorsement',
                                'endorsment' => ($slipdatalist->endorsement + 1),
                                'selisih' => 'false',
                                'source' => $slipdatalist->source,
                                'source_2' => $slipdatalist->source_2,
                                // 'currency'=>$slt->currency,
                                'cob' => $slipdatalist->cob,
                                'koc' => $slipdatalist->koc,
                                'occupacy' => $slipdatalist->occupacy,
                                'build_const' => $slipdatalist->build_const,
                                'attacment_file' => json_encode($attachmentlist),
                                'total_sum_insured' => $slipdatalist->total_sum_insured,
                                'insured_type' => $slipdatalist->insured_type,
                                'insured_pct' => $slipdatalist->insured_pct,
                                'total_sum_pct' => $slipdatalist->total_sum_pct,
                                'deductible_panel' => json_encode($jsondtlistup),
                                'condition_needed' => json_encode($jsoncntlistup),
                                'insurance_period_from' => $slipdatalist->insurance_period_from,
                                'insurance_period_to' => $slipdatalist->insurance_period_to,
                                'reinsurance_period_from' => $slipdatalist->reinsurance_period_from,
                                'reinsurance_period_to' => $slipdatalist->reinsurance_period_to,
                                'proportional' => $slipdatalist->proportional,
                                'layer_non_proportional' => $slipdatalist->layer_non_proportional,
                                'rate' => $slipdatalist->rate,
                                'v_broker' => $slipdatalist->v_broker,
                                'share' => $slipdatalist->share,
                                'sum_share' => $slipdatalist->sum_share,
                                'basic_premium' => $slipdatalist->basic_premium,
                                'commission' => $slipdatalist->commission,
                                'grossprm_to_nr' => $slipdatalist->grossprm_to_nr,
                                'netprm_to_nr' => $slipdatalist->netprm_to_nr,
                                'sum_commission' => $slipdatalist->sum_commission,
                                'installment_panel' => json_encode($jsoniptlistup),
                                'retrocession_panel' => json_encode($jsonrctlistup),
                                'retro_backup' => $slipdatalist->retro_backup,
                                'own_retention' => $slipdatalist->own_retention,
                                'sum_own_retention' => $slipdatalist->sum_own_retention,
                                'wpc' => $slipdatalist->wpc,
                                'remarks' => $slipdatalist->remarks,
                                'total_day' => $slipdatalist->total_day,
                                'total_year' => $slipdatalist->total_year,
                                'sum_total_date' => $slipdatalist->sum_total_date,
                                'type_tsi' => $slipdatalist->type_tsi,
                                'share_tsi' => $slipdatalist->share_tsi,
                                'type_share_tsi' => $slipdatalist->type_share_tsi,
                                'sliptotalrate' => $slipdatalist->sliptotalrate,
                                'sum_feebroker' => $slipdatalist->sum_feebroker,
                                'slipshow' => 'yes'

                            ]);

                            $slipdataupminus = SlipTable::create([
                                'number' => $slipdatalist->number,
                                'username' => $slipdatalist->username,
                                'insured_id' => $slipdatalist->insured_id,
                                'slip_type' => 'mc',
                                'prod_year' => $slipdatalist->prod_year,
                                'selisih' => 'true',
                                'date_transfer' => $slipdatalist->slipdatetransfer,
                                'status' => 'endorsement',
                                'endorsment' => ($slipdatalist->endorsement + 1),
                                'selisih' => 'true',
                                'source' => $slipdatalist->source,
                                'source_2' => $slipdatalist->source_2,
                                // 'currency'=>$slt->currency,
                                'cob' => $slipdatalist->cob,
                                'koc' => $slipdatalist->koc,
                                'occupacy' => $slipdatalist->occupacy,
                                'build_const' => $slipdatalist->build_const,
                                'attacment_file' => json_encode($attachmentlist),
                                'total_sum_insured' => $slipdatalist->total_sum_insured,
                                'insured_type' => $slipdatalist->insured_type,
                                'insured_pct' => $slipdatalist->insured_pct,
                                'total_sum_pct' => $slipdatalist->total_sum_pct,
                                'deductible_panel' => json_encode($jsondtlistupminus),
                                'condition_needed' => json_encode($jsoncntlistup),
                                'insurance_period_from' => $slipdatalist->insurance_period_from,
                                'insurance_period_to' => $slipdatalist->insurance_period_to,
                                'reinsurance_period_from' => $slipdatalist->reinsurance_period_from,
                                'reinsurance_period_to' => $slipdatalist->reinsurance_period_to,
                                'proportional' => $slipdatalist->proportional,
                                'layer_non_proportional' => $slipdatalist->layer_non_proportional,
                                'rate' => $slipdatalist->rate,
                                'v_broker' => $slipdatalist->v_broker,
                                'share' => $slipdatalist->share,
                                'sum_share' => $slipdatalist->sum_share,
                                'basic_premium' => $slipdatalist->basic_premium,
                                'commission' => $slipdatalist->commission,
                                'grossprm_to_nr' => $slipdatalist->grossprm_to_nr,
                                'netprm_to_nr' => $slipdatalist->netprm_to_nr,
                                'sum_commission' => $slipdatalist->sum_commission,
                                'installment_panel' => json_encode($jsoniptlistupminus),
                                'retrocession_panel' => json_encode($jsonrctlistupminus),
                                'retro_backup' => $slipdatalist->retro_backup,
                                'own_retention' => $slipdatalist->own_retention,
                                'sum_own_retention' => $slipdatalist->sum_own_retention,
                                'wpc' => $slipdatalist->wpc,
                                'remarks' => $slipdatalist->remarks,
                                'total_day' => $slipdatalist->total_day,
                                'total_year' => $slipdatalist->total_year,
                                'sum_total_date' => $slipdatalist->sum_total_date,
                                'type_tsi' => $slipdatalist->type_tsi,
                                'share_tsi' => $slipdatalist->share_tsi,
                                'type_share_tsi' => $slipdatalist->type_share_tsi,
                                'sliptotalrate' => $slipdatalist->sliptotalrate,
                                'sum_feebroker' => $slipdatalist->sum_feebroker,
                                'slipshow' => 'no'

                            ]);
                        }
                        elseif ($jsoniptlistup == ' ') {

$slipdataup = SlipTable::create([
    'number' => $slipdatalist->number,
    'username' => $slipdatalist->username,
    'insured_id' => $slipdatalist->insured_id,
    'slip_type' => 'mc',
    'prod_year' => $slipdatalist->prod_year,
    'selisih' => 'false',
    'date_transfer' => $slipdatalist->slipdatetransfer,
    'status' => 'endorsement',
    'endorsment' => ($slipdatalist->endorsement + 1),
    'source' => $slipdatalist->source,
    'source_2' => $slipdatalist->source_2,
    // 'currency'=>$slt->currency,
    'cob' => $slipdatalist->cob,
    'koc' => $slipdatalist->koc,
    'occupacy' => $slipdatalist->occupacy,
    'build_const' => $slipdatalist->build_const,
    'attacment_file' => json_encode($attachmentlist),
    'total_sum_insured' => $slipdatalist->total_sum_insured,
    'insured_type' => $slipdatalist->insured_type,
    'insured_pct' => $slipdatalist->insured_pct,
    'total_sum_pct' => $slipdatalist->total_sum_pct,
    'deductible_panel' => json_encode($jsondtlistup),
    'condition_needed' => json_encode($jsoncntlistup),
    'insurance_period_from' => $slipdatalist->insurance_period_from,
    'insurance_period_to' => $slipdatalist->insurance_period_to,
    'reinsurance_period_from' => $slipdatalist->reinsurance_period_from,
    'reinsurance_period_to' => $slipdatalist->reinsurance_period_to,
    'proportional' => $slipdatalist->proportional,
    'layer_non_proportional' => $slipdatalist->layer_non_proportional,
    'rate' => $slipdatalist->rate,
    'v_broker' => $slipdatalist->v_broker,
    'share' => $slipdatalist->share,
    'sum_share' => $slipdatalist->sum_share,
    'basic_premium' => $slipdatalist->basic_premium,
    'commission' => $slipdatalist->commission,
    'grossprm_to_nr' => $slipdatalist->grossprm_to_nr,
    'netprm_to_nr' => $slipdatalist->netprm_to_nr,
    'sum_commission' => $slipdatalist->sum_commission,
    'retrocession_panel' => json_encode($jsonrctlistup),
    'retro_backup' => $slipdatalist->retro_backup,
    'own_retention' => $slipdatalist->own_retention,
    'sum_own_retention' => $slipdatalist->sum_own_retention,
    'wpc' => $slipdatalist->wpc,
    'remarks' => $slipdatalist->remarks,
    'total_day' => $slipdatalist->total_day,
    'total_year' => $slipdatalist->total_year,
    'sum_total_date' => $slipdatalist->sum_total_date,
    'type_tsi' => $slipdatalist->type_tsi,
    'share_tsi' => $slipdatalist->share_tsi,
    'type_share_tsi' => $slipdatalist->type_share_tsi,
    'sliptotalrate' => $slipdatalist->sliptotalrate,
    'sum_feebroker' => $slipdatalist->sum_feebroker,
    'slipshow' => 'yes'

]);

$slipdataupminus = SlipTable::create([
    'number' => $slipdatalist->number,
    'username' => $slipdatalist->username,
    'insured_id' => $slipdatalist->insured_id,
    'slip_type' => 'mc',
    'prod_year' => $slipdatalist->prod_year,
    'selisih' => 'true',
    'date_transfer' => $slipdatalist->slipdatetransfer,
    'status' => 'endorsement',
    'endorsment' => ($slipdatalist->endorsement + 1),
    'selisih' => 'true',
    'source' => $slipdatalist->source,
    'source_2' => $slipdatalist->source_2,
    // 'currency'=>$slt->currency,
    'cob' => $slipdatalist->cob,
    'koc' => $slipdatalist->koc,
    'occupacy' => $slipdatalist->occupacy,
    'build_const' => $slipdatalist->build_const,
    'attacment_file' => json_encode($attachmentlist),
    'total_sum_insured' => $slipdatalist->total_sum_insured,
    'insured_type' => $slipdatalist->insured_type,
    'insured_pct' => $slipdatalist->insured_pct,
    'total_sum_pct' => $slipdatalist->total_sum_pct,
    'deductible_panel' => json_encode($jsondtlistupminus),
    'condition_needed' => json_encode($jsoncntlistup),
    'insurance_period_from' => $slipdatalist->insurance_period_from,
    'insurance_period_to' => $slipdatalist->insurance_period_to,
    'reinsurance_period_from' => $slipdatalist->reinsurance_period_from,
    'reinsurance_period_to' => $slipdatalist->reinsurance_period_to,
    'proportional' => $slipdatalist->proportional,
    'layer_non_proportional' => $slipdatalist->layer_non_proportional,
    'rate' => $slipdatalist->rate,
    'v_broker' => $slipdatalist->v_broker,
    'share' => $slipdatalist->share,
    'sum_share' => $slipdatalist->sum_share,
    'basic_premium' => $slipdatalist->basic_premium,
    'commission' => $slipdatalist->commission,
    'grossprm_to_nr' => $slipdatalist->grossprm_to_nr,
    'netprm_to_nr' => $slipdatalist->netprm_to_nr,
    'sum_commission' => $slipdatalist->sum_commission,
    'retrocession_panel' => json_encode($jsonrctlistupminus),
    'retro_backup' => $slipdatalist->retro_backup,
    'own_retention' => $slipdatalist->own_retention,
    'sum_own_retention' => $slipdatalist->sum_own_retention,
    'wpc' => $slipdatalist->wpc,
    'remarks' => $slipdatalist->remarks,
    'total_day' => $slipdatalist->total_day,
    'total_year' => $slipdatalist->total_year,
    'sum_total_date' => $slipdatalist->sum_total_date,
    'type_tsi' => $slipdatalist->type_tsi,
    'share_tsi' => $slipdatalist->share_tsi,
    'type_share_tsi' => $slipdatalist->type_share_tsi,
    'sliptotalrate' => $slipdatalist->sliptotalrate,
    'sum_feebroker' => $slipdatalist->sum_feebroker,
    'slipshow' => 'no'

]);
} elseif ($jsonrctlistup == ' ') {

$slipdataup = SlipTable::create([
    'number' => $slipdatalist->number,
    'username' => $slipdatalist->username,
    'insured_id' => $slipdatalist->insured_id,
    'slip_type' => 'mc',
    'prod_year' => $slipdatalist->prod_year,
    'selisih' => 'false',
    'date_transfer' => $slipdatalist->slipdatetransfer,
    'status' => 'endorsement',
    'endorsment' => ($slipdatalist->endorsement + 1),
    'source' => $slipdatalist->source,
    'source_2' => $slipdatalist->source_2,
    // 'currency'=>$slt->currency,
    'cob' => $slipdatalist->cob,
    'koc' => $slipdatalist->koc,
    'occupacy' => $slipdatalist->occupacy,
    'build_const' => $slipdatalist->build_const,
    'attacment_file' => json_encode($attachmentlist),
    'total_sum_insured' => $slipdatalist->total_sum_insured,
    'insured_type' => $slipdatalist->insured_type,
    'insured_pct' => $slipdatalist->insured_pct,
    'total_sum_pct' => $slipdatalist->total_sum_pct,
    'deductible_panel' => json_encode($jsondtlistup),
    'condition_needed' => json_encode($jsoncntlistup),
    'insurance_period_from' => $slipdatalist->insurance_period_from,
    'insurance_period_to' => $slipdatalist->insurance_period_to,
    'reinsurance_period_from' => $slipdatalist->reinsurance_period_from,
    'reinsurance_period_to' => $slipdatalist->reinsurance_period_to,
    'proportional' => $slipdatalist->proportional,
    'layer_non_proportional' => $slipdatalist->layer_non_proportional,
    'rate' => $slipdatalist->rate,
    'v_broker' => $slipdatalist->v_broker,
    'share' => $slipdatalist->share,
    'sum_share' => $slipdatalist->sum_share,
    'basic_premium' => $slipdatalist->basic_premium,
    'commission' => $slipdatalist->commission,
    'grossprm_to_nr' => $slipdatalist->grossprm_to_nr,
    'netprm_to_nr' => $slipdatalist->netprm_to_nr,
    'sum_commission' => $slipdatalist->sum_commission,
    'installment_panel' => $jsoniptlistup->toJson(),
    'retro_backup' => $slipdatalist->retro_backup,
    'own_retention' => $slipdatalist->own_retention,
    'sum_own_retention' => $slipdatalist->sum_own_retention,
    'wpc' => $slipdatalist->wpc,
    'remarks' => $slipdatalist->remarks,
    'total_day' => $slipdatalist->total_day,
    'total_year' => $slipdatalist->total_year,
    'sum_total_date' => $slipdatalist->sum_total_date,
    'type_tsi' => $slipdatalist->type_tsi,
    'share_tsi' => $slipdatalist->share_tsi,
    'type_share_tsi' => $slipdatalist->type_share_tsi,
    'sliptotalrate' => $slipdatalist->sliptotalrate,
    'sum_feebroker' => $slipdatalist->sum_feebroker,
    'slipshow' => 'yes'

]);

$slipdataupminus = SlipTable::create([
    'number' => $slipdatalist->number,
    'username' => $slipdatalist->username,
    'insured_id' => $slipdatalist->insured_id,
    'slip_type' => 'mc',
    'prod_year' => $slipdatalist->prod_year,
    'selisih' => 'true',
    'date_transfer' => $slipdatalist->slipdatetransfer,
    'status' => 'endorsement',
    'endorsment' => ($slipdatalist->endorsement + 1),
    'selisih' => 'true',
    'source' => $slipdatalist->source,
    'source_2' => $slipdatalist->source_2,
    // 'currency'=>$slt->currency,
    'cob' => $slipdatalist->cob,
    'koc' => $slipdatalist->koc,
    'occupacy' => $slipdatalist->occupacy,
    'build_const' => $slipdatalist->build_const,
    'attacment_file' => json_encode($attachmentlist),
    'total_sum_insured' => $slipdatalist->total_sum_insured,
    'insured_type' => $slipdatalist->insured_type,
    'insured_pct' => $slipdatalist->insured_pct,
    'total_sum_pct' => $slipdatalist->total_sum_pct,
    'deductible_panel' => json_encode($jsondtlistupminus),
    'condition_needed' => json_encode($jsoncntlistup),
    'insurance_period_from' => $slipdatalist->insurance_period_from,
    'insurance_period_to' => $slipdatalist->insurance_period_to,
    'reinsurance_period_from' => $slipdatalist->reinsurance_period_from,
    'reinsurance_period_to' => $slipdatalist->reinsurance_period_to,
    'proportional' => $slipdatalist->proportional,
    'layer_non_proportional' => $slipdatalist->layer_non_proportional,
    'rate' => $slipdatalist->rate,
    'v_broker' => $slipdatalist->v_broker,
    'share' => $slipdatalist->share,
    'sum_share' => $slipdatalist->sum_share,
    'basic_premium' => $slipdatalist->basic_premium,
    'commission' => $slipdatalist->commission,
    'grossprm_to_nr' => $slipdatalist->grossprm_to_nr,
    'netprm_to_nr' => $slipdatalist->netprm_to_nr,
    'sum_commission' => $slipdatalist->sum_commission,
    'installment_panel' => $jsoniptlistupminus->toJson(),
    'retro_backup' => $slipdatalist->retro_backup,
    'own_retention' => $slipdatalist->own_retention,
    'sum_own_retention' => $slipdatalist->sum_own_retention,
    'wpc' => $slipdatalist->wpc,
    'remarks' => $slipdatalist->remarks,
    'total_day' => $slipdatalist->total_day,
    'total_year' => $slipdatalist->total_year,
    'sum_total_date' => $slipdatalist->sum_total_date,
    'type_tsi' => $slipdatalist->type_tsi,
    'share_tsi' => $slipdatalist->share_tsi,
    'type_share_tsi' => $slipdatalist->type_share_tsi,
    'sliptotalrate' => $slipdatalist->sliptotalrate,
    'sum_feebroker' => $slipdatalist->sum_feebroker,
    'slipshow' => 'no'

]);
}